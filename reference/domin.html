<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Computes dominance statistics for predictive modeling functions that accept a formula."><title>Dominance analysis supporting formula-based modeling functions — domin • domir</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Dominance analysis supporting formula-based modeling functions — domin"><meta property="og:description" content="Computes dominance statistics for predictive modeling functions that accept a formula."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">domir</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.1.9</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/domir_basics.html">Conceptual Introduction to Dominance Analysis</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/jluchman/domir/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Dominance analysis supporting <code>formula</code>-based modeling functions</h1>
      <small class="dont-index">Source: <a href="https://github.com/jluchman/domir/blob/HEAD/R/domin.r" class="external-link"><code>R/domin.r</code></a></small>
      <div class="d-none name"><code>domin.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Computes dominance statistics for predictive modeling functions that accept a <code><a href="https://rdrr.io/r/stats/formula.html" class="external-link">formula</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">domin</span><span class="op">(</span></span>
<span>  <span class="va">formula_overall</span>,</span>
<span>  <span class="va">reg</span>,</span>
<span>  <span class="va">fitstat</span>,</span>
<span>  sets <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  all <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  conditional <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  complete <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  consmodel <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  reverse <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>formula_overall</dt>
<dd><p>An object of class <code><a href="https://rdrr.io/r/stats/formula.html" class="external-link">formula</a></code> or that can be coerced to class <code>formula</code> for use in the modeling function in <code>reg</code>.  The <code><a href="https://rdrr.io/r/stats/terms.html" class="external-link">terms</a></code> on the right hand side of this formula are used as separate entries to the dominance analysis.</p>
<p>A valid <code>formula_overall</code> entry is necessary, even if only submitting entries in <code>sets</code>, to define a valid left hand side of the prediction equation (see examples).  The function called in <code>reg</code> must accept one or more responses on the left hand side.</p></dd>


<dt>reg</dt>
<dd><p>A function implementing the predictive (or "reg"ression) model called.</p>
<p>String function names (e.g., "lm"), function names (e.g., <code>lm</code>), or anonymous functions (e.g., <code>function(x) lm(x)</code>) are acceptable entries.  This argument's contents are passed to <code><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></code> and thus any function call <code>do.call</code> would accept is valid.</p>
<p>The predictive model in <code>reg</code> must accept a <code>formula</code> object as its first argument or must be adapted to do so with a wrapper function.</p></dd>


<dt>fitstat</dt>
<dd><p>List providing arguments to call a fit statistic extracting function (see details). The <code>fitstat</code> list must be of at least length two.</p>
<p>The first element of <code>fitstat</code> must be a function implementing the fit statistic extraction. String function names (e.g., "summary"), function names (e.g., <code>summary</code>), or anonymous functions (e.g., <code>function(x) summary(x)</code>) are acceptable entries. This element's contents are passed to <code><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></code> and thus any function call <code>do.call</code> would accept is valid.</p>
<p>The second element of <code>fitstat</code> must be the named element of the list or vector produced by the fit extractor function called in the first element of <code>fitstat</code>.  This element must be a string (e.g., "r.squared").</p>
<p>All list elements beyond the second are submitted as additional arguments to the fit extractor function call.</p>
<p>The fit statistic extractor function in the first list element of <code>fitstat</code> must accept the model object produced by the predictive modeling function in <code>reg</code> as its first argument or be adapted to do so with a wrapper function.</p>
<p>The fit statistic produced must be scalar valued (i.e., vector of length 1).</p></dd>


<dt>sets</dt>
<dd><p>A list with each element comprised of vectors containing variable/factor names or <code>formula</code> coercible strings.</p>
<p>Each separate list element-vector in <code>sets</code> is concatenated (when the list element-vector is of length &gt; 1) and used as an entry to the dominance analysis along with the terms in <code>formula_overall</code>.</p></dd>


<dt>all</dt>
<dd><p>A vector of variable/factor names or <code>formula</code> coercible strings.  The entries in this vector are concatenated (when of length &gt; 1) but are not used in the dominance analysis.  Rather the value of the fit statistic associated with these terms is removed from the dominance analysis; this vector is used like a set of covariates.</p>
<p>The entries in <code>all</code> are removed from and considered an additional component that explains the fit metric.  As a result, the general dominance statistics will no longer sum to the overall fit metric and the standardized vector will no longer sum to 1.</p></dd>


<dt>conditional</dt>
<dd><p>Logical.  If <code>FALSE</code> then conditional dominance matrix is not computed.</p>
<p>If conditional dominance is not desired as an importance criterion, avoiding computing the conditional dominance matrix can save computation time.</p></dd>


<dt>complete</dt>
<dd><p>Logical.  If <code>FALSE</code> then complete dominance matrix is not computed.</p>
<p>If complete dominance is not desired as an importance criterion, avoiding computing complete dominance designations can save computation time.</p></dd>


<dt>consmodel</dt>
<dd><p>A vector of variable/factor names, <code>formula</code> coercible strings, or other formula terms (i.e., 1 to indicate an intercept).  The entries in this vector are concatenated (when of length &gt; 1) and, like the entries of <code>all</code>, are not used in the dominance analysis; this vector is used as an adjustment to the baseline value of the overall fit statistic.</p>
<p>The use of <code>consmodel</code> changes the interpretation of the the general and conditional dominance statistics.  When <code>consmodel</code> is used, the general and conditional dominance statistics are reflect the difference between the constant model and the overall fit statistic values.</p>
<p>Typical usage of <code>consmodel</code> is to pass "1" to set the intercept as the baseline and control for its value when the baseline model's fit statistic value is not 0 (e.g., if using the AIC or BIC as a fit statistic; see examples).</p>
<p>As such, this vector is used to set a baseline for the fit statistic when it is non-0.</p></dd>


<dt>reverse</dt>
<dd><p>Logical. If <code>TRUE</code> then standardized vector, ranks, and complete dominance designations are reversed in their interpretation.</p>
<p>This argument should be changed to <code>TRUE</code> if the fit statistic used decreases with better fit to the data (e.g., AIC, BIC).</p></dd>


<dt>...</dt>
<dd><p>Additional arguments passed to the function call in the <code>reg</code> argument.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>Returns an object of <code><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></code> "domin".
An object of class "domin" is a list composed of the following elements:</p><dl><dt><code>General_Dominance</code></dt>
<dd><p>Vector of general dominance statistics.</p></dd>

<dt><code>Standardized</code></dt>
<dd><p>Vector of general dominance statistics normalized to sum to 1.</p></dd>

<dt><code>Ranks</code></dt>
<dd><p>Vector of ranks applied to the general dominance statistics.</p></dd>

<dt><code>Conditional_Dominance</code></dt>
<dd><p>Matrix of conditional dominance statistics.  Each row represents a term; each column represents an order of terms.</p></dd>

<dt><code>Complete_Dominance</code></dt>
<dd><p>Logical matrix of complete dominance designations. The term represented in each row indicates dominance status; the terms represented in each columns indicates dominated-by status.</p></dd>

<dt><code>Fit_Statistic_Overall</code></dt>
<dd><p>Value of fit statistic for the full model.</p></dd>

<dt><code>Fit_Statistic_All_Subsets</code></dt>
<dd><p>Value of fit statistic associated with terms in <code>all</code>.</p></dd>

<dt><code>Fit_Statistic_Constant_Model</code></dt>
<dd><p>Value of fit statistic associated with terms in <code>consmodel</code>.</p></dd>

<dt><code>Call</code></dt>
<dd><p>The matched call.</p></dd>

<dt><code>Subset_Details</code></dt>
<dd><p>List containing the full model and descriptions of terms in the full model by source.</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>domin</code> automates the computation of all possible combination of entries to the dominance analysis (DA), the creation of <code>formula</code> objects based on those entries, the modeling calls/fit statistic capture, and the computation of all the dominance statistics for the user.</p>
<p><code>domin</code> accepts only a "deconstructed" set of inputs and "reconstructs" them prior to formulating a coherent predictive modeling call.</p>
<p>One specific instance of this deconstruction is in generating the number of entries to the DA. The number of entries is taken as all the <code>terms</code> from <code>formula_overall</code> and the separate list element vectors from <code>sets</code>. The entries themselves are concatenated into a single formula, combined with the entries in <code>all</code>, and submitted to the predictive modeling function in <code>reg</code>.  Each different combination of entries to the DA forms a different <code>formula</code> and thus a different model to estimate.</p>
<p>For example, consider this <code>domin</code> call:</p>
<p><code>domin(y ~ x1 + x2, lm, list(summary, "r.squared"), sets = list(c("x3", "x4")), all = c("c1", "c2"), data = mydata))</code></p>
<p>This call records three entries and results in seven (i.e., \(2^3 - 1\)) different combinations:</p>
<ol><li><p>x1</p></li>
<li><p>x2</p></li>
<li><p>x3, x4</p></li>
<li><p>x1, x2</p></li>
<li><p>x1, x3, x4</p></li>
<li><p>x2, x3, x4</p></li>
<li><p>x1, x2, x3, x4</p></li>
</ol><p><code>domin</code> parses <code>formula_overall</code> to obtain all the terms in it and combines them with <code>sets</code>.  When parsing <code>formula_overall</code>, only the processing that is available in the <code>stats</code> package is applied.  Note that <code>domin</code> is not programmed to process terms of order &gt; 1 (i.e., interactions/products) appropriately (i.e., only include in the presence of lower order component terms). <code>domin</code> also does not allow <code>offset</code> terms.</p>
<p>From these combinations, the predictive models are constructed and called. The predictive model call includes the entries in <code>all</code>, applies the appropriate formula, and reconstructs the function itself. The seven combinations above imply the following series of predictive model calls:</p>
<ol><li><p><code>lm(y ~ x1 + c1 + c2, data = mydata</code>)</p></li>
<li><p><code>lm(y ~ x2 + c1 + c2, data = mydata</code>)</p></li>
<li><p><code>lm(y ~ x3 + x4 + c1 + c2, data = mydata</code>)</p></li>
<li><p><code>lm(y ~ x1 + x2 + c1 + c2, data = mydata</code>)</p></li>
<li><p><code>lm(y ~ x1 + x3 + x4 + c1 + c2, data = mydata</code>)</p></li>
<li><p><code>lm(y ~ x2 + x3 + x4 + c1 + c2, data = mydata</code>)</p></li>
<li><p><code>lm(y ~ x1 + x2 + x3 + x4 + c1 + c2, data = mydata</code>)</p></li>
</ol><p>It is possible to use a <code>domin</code> with only sets (i.e., no IVs in <code>formula_overall</code>; see examples below). There must be at least two entries to the DA for <code>domin</code> to run.</p>
<p>All the called predictive models are submitted to the fit extractor function implied by the entries in <code>fitstat</code>. Again applying the example above, all seven predictive models' objects would be individually passed as follows:</p>
<p><code>summary(lm_obj)["r.squared"]</code></p>
<p>where <code>lm_obj</code> is the model object returned by <code>lm</code>.</p>
<p>The entries to <code>fitstat</code> must be as a list and follow a specific structure:
<code>list(fit_function, element_name, ...)</code></p><dl><dt><code>fit_function</code></dt>
<dd><p>First element and function to be applied to the object produced by the <code>reg</code> function</p></dd>

<dt><code>element_name</code></dt>
<dd><p>Second element and name of the element from the object returned by <code>fit_function</code> to be used as a fit statistic.  The fit statistic must be scalar-valued/length 1</p></dd>

<dt><code>...</code></dt>
<dd><p>Subsequent elements and are additional arguments passed to <code>fit_function</code></p></dd>


</dl><p>In the case that the model object returned by <code>reg</code> includes its own fit statistic without the need for an extractor function, the user can apply an anonymous function following the required format to extract it.</p>
    </div>
    <div class="section level2">
    <h2 id="notes">Notes<a class="anchor" aria-label="anchor" href="#notes"></a></h2>
    


<p><code>domin</code> is an R port of the Stata command with the same name (see Luchman, 2021).</p>
<p><code>domin</code> has been superseded by <code><a href="domir.html">domir</a></code>.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Luchman, J. N. (2021). Relative importance analysis in Stata using dominance analysis: domin and domme.
The Stata Journal, 21, 2. doi: 10.1177/1536867X211025837.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## Basic linear model with r-square</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">domin</span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">am</span> <span class="op">+</span> <span class="va">vs</span> <span class="op">+</span> <span class="va">cyl</span>, </span></span>
<span class="r-in"><span>  <span class="va">lm</span>, </span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"summary"</span>, <span class="st">"r.squared"</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Overall Fit Statistic:      0.7619773 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> General Dominance Statistics:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     General Dominance Standardized Ranks</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> am          0.1774892    0.2329324     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> vs          0.2027032    0.2660226     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cyl         0.3817849    0.5010450     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Conditional Dominance Statistics:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        IVs: 1    IVs: 2      IVs: 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> am  0.3597989 0.1389842 0.033684441</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> vs  0.4409477 0.1641982 0.002963748</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cyl 0.7261800 0.3432799 0.075894823</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Complete Dominance Designations:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Dmnated?am Dmnated?vs Dmnated?cyl</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dmnates?am          NA         NA       FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dmnates?vs          NA         NA       FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dmnates?cyl       TRUE       TRUE          NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Linear model including sets</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">domin</span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">am</span> <span class="op">+</span> <span class="va">vs</span> <span class="op">+</span> <span class="va">cyl</span>, </span></span>
<span class="r-in"><span>  <span class="va">lm</span>, </span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"summary"</span>, <span class="st">"r.squared"</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">mtcars</span>, </span></span>
<span class="r-in"><span>  sets <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"carb"</span>, <span class="st">"gear"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"disp"</span>, <span class="st">"wt"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Overall Fit Statistic:      0.851596 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> General Dominance Statistics:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      General Dominance Standardized Ranks</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> am          0.09446712    0.1109295     5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> vs          0.10957434    0.1286694     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cyl         0.19767129    0.2321186     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> set1        0.20978183    0.2463396     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> set2        0.24010141    0.2819429     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Conditional Dominance Statistics:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         IVs: 1     IVs: 2     IVs: 3      IVs: 4       IVs: 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> am   0.3597989 0.07688044 0.01944026 0.010342235 0.0058737118</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> vs   0.4409477 0.09276443 0.01167477 0.001799976 0.0006848322</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cyl  0.7261800 0.19877978 0.04304518 0.015251991 0.0050994979</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> set1 0.7343966 0.20916653 0.05695739 0.030887988 0.0175006137</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> set2 0.7809306 0.24778381 0.08623238 0.051865275 0.0336949874</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Complete Dominance Designations:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              Dmnated?am Dmnated?vs Dmnated?cyl Dmnated?set1 Dmnated?set2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dmnates?am           NA         NA          NA        FALSE        FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dmnates?vs           NA         NA       FALSE        FALSE        FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dmnates?cyl          NA       TRUE          NA        FALSE        FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dmnates?set1       TRUE       TRUE        TRUE           NA        FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dmnates?set2       TRUE       TRUE        TRUE         TRUE           NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Components of sets:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> set1 : carb gear </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> set2 : disp wt </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Multivariate linear model with custom multivariate r-square function </span></span></span>
<span class="r-in"><span><span class="co">## and all subsets variable</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">Rxy</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">obj</span>, <span class="va">names</span>, <span class="va">data</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>   <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"r2"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/cancor.html" class="external-link">cancor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">obj</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>       <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/get.html" class="external-link">mget</a></span><span class="op">(</span><span class="va">names</span>, <span class="fu"><a href="https://rdrr.io/r/base/as.environment.html" class="external-link">as.environment</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">[[</span><span class="st">"cor"</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span> </span></span>
<span class="r-in"><span>       <span class="op">}</span></span></span>
<span class="r-in"><span>       </span></span>
<span class="r-in"><span><span class="fu">domin</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">wt</span>, <span class="va">mpg</span><span class="op">)</span> <span class="op">~</span> <span class="va">vs</span> <span class="op">+</span> <span class="va">cyl</span> <span class="op">+</span> <span class="va">am</span>, </span></span>
<span class="r-in"><span>  <span class="va">lm</span>, </span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">Rxy</span>, <span class="st">"r2"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mpg"</span>, <span class="st">"wt"</span><span class="op">)</span>, <span class="va">mtcars</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">mtcars</span>, </span></span>
<span class="r-in"><span>  all <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"carb"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Overall Fit Statistic:      0.8384378 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> All Subsets Fit Statistic:  0.3137993 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> General Dominance Statistics:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     General Dominance Standardized Ranks</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> vs         0.07169528   0.08551056     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cyl        0.21206213   0.25292531     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> am         0.24088099   0.28729741     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Conditional Dominance Statistics:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        IVs: 1     IVs: 2      IVs: 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> vs  0.1761112 0.03768107 0.001293536</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cyl 0.4307370 0.17804791 0.027401478</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> am  0.4311156 0.20686678 0.084660605</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Complete Dominance Designations:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Dmnated?vs Dmnated?cyl Dmnated?am</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dmnates?vs          NA       FALSE      FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dmnates?cyl       TRUE          NA      FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dmnates?am        TRUE        TRUE         NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> All subsets variables: carb</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Sets only</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">domin</span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="fl">1</span>, </span></span>
<span class="r-in"><span>  <span class="va">lm</span>, </span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"summary"</span>, <span class="st">"r.squared"</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">mtcars</span>, </span></span>
<span class="r-in"><span>  sets <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"am"</span>, <span class="st">"vs"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cyl"</span>, <span class="st">"disp"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"qsec"</span>, <span class="st">"carb"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Overall Fit Statistic:      0.8344278 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> General Dominance Statistics:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      General Dominance Standardized Ranks</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> set1         0.3197289    0.3831715     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> set2         0.3677706    0.4407459     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> set3         0.1469282    0.1760826     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Conditional Dominance Statistics:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         IVs: 1     IVs: 2     IVs: 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> set1 0.6860825 0.24773691 0.02536743</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> set2 0.7595658 0.29577856 0.04796742</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> set3 0.3092531 0.07493621 0.05659539</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Complete Dominance Designations:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              Dmnated?set1 Dmnated?set2 Dmnated?set3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dmnates?set1           NA        FALSE           NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dmnates?set2         TRUE           NA           NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dmnates?set3           NA           NA           NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Components of sets:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> set1 : am vs </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> set2 : cyl disp </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> set3 : qsec carb </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span><span class="co">## Constant model using AIC</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">domin</span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">am</span> <span class="op">+</span> <span class="va">carb</span> <span class="op">+</span> <span class="va">cyl</span>, </span></span>
<span class="r-in"><span>  <span class="va">lm</span>, </span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>aic <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/extractAIC.html" class="external-link">extractAIC</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>, <span class="st">"aic"</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">mtcars</span>, </span></span>
<span class="r-in"><span>  reverse <span class="op">=</span> <span class="cn">TRUE</span>, consmodel <span class="op">=</span> <span class="st">"1"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Overall Fit Statistic:      68.57997 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Constant Model Fit Statistic:  115.9434 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> General Dominance Statistics:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      General Dominance Standardized Ranks</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> am          -11.392847    0.2405407     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> carb         -8.862961    0.1871265     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cyl         -27.107674    0.5723328     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Conditional Dominance Statistics:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          IVs: 1    IVs: 2     IVs: 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> am   -12.271136 -13.71691  -8.190499</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> carb  -9.574847 -11.18702  -5.827017</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cyl  -39.449099 -29.43173 -12.442191</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Complete Dominance Designations:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              Dmnated?am Dmnated?carb Dmnated?cyl</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dmnates?am           NA         TRUE       FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dmnates?carb      FALSE           NA       FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dmnates?cyl        TRUE         TRUE          NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Joseph Luchman.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.8.</p>
</div>

    </footer></div>

  

  

  </body></html>

