<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="domir">
<title>Conceptual Introduction to Dominance Analysis • domir</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Conceptual Introduction to Dominance Analysis">
<meta property="og:description" content="domir">
<meta property="og:image" content="https://jluchman.github.io/domir/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary" data-bs-theme="dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">domir</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/domir_basics.html">Conceptual Introduction to Dominance Analysis</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/jluchman/domir/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Conceptual Introduction to Dominance Analysis</h1>
            <h3 data-toc-skip class="subtitle">Examples and
Implementation with <code>domir</code>
</h3>
                        <h4 data-toc-skip class="author">Joseph
Luchman</h4>
            
            <h4 data-toc-skip class="date">2024-05-04</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/jluchman/domir/blob/HEAD/vignettes/domir_basics.Rmd" class="external-link"><code>vignettes/domir_basics.Rmd</code></a></small>
      <div class="d-none name"><code>domir_basics.Rmd</code></div>
    </div>

    
    
<p>The purpose of this vignette is to briefly discuss the conceptual
underpinnings of the relative importance method implemented in the
<strong>domir</strong> package and provide several extensive examples
that illustrate these concepts as applied to data.</p>
<p>This vignette is intended to serve as a refresher for users familiar
with these concepts as well as an brief introduction to them for those
who are not.</p>
<p>By the end of this vignette, the reader should have a sense for what
the key relative importance method is attempting to do as well as an
understanding of how it is accomplished as applied to data.</p>
<div class="section level2">
<h2 id="conceptual-introduction">Conceptual Introduction<a class="anchor" aria-label="anchor" href="#conceptual-introduction"></a>
</h2>
<p>The relative importance method implemented in the
<strong>domir</strong> package produces results that are relatively easy
to interpret but does so in a way that is computationally intensive in
as implemented.</p>
<p>The discussion below outlines the conceptual origins of the method,
what the relative importance method does, and some details about how the
DA method is implemented in the <strong>domir</strong> package.</p>
<div class="section level3">
<h3 id="dominance-analysis">Dominance Analysis<a class="anchor" aria-label="anchor" href="#dominance-analysis"></a>
</h3>
<p>The focus of the <strong>domir</strong> package is on dominance
analysis (DA). DA is a method that resolves the indeterminacy of trying
to ascribe a the results from a predictive model’s fit metric, referred
to as a ‘value’ in the package, to individual predictive factors (i.e.,
independent variables/IVs, predictors, features), referred to as ‘names’
in the package.</p>
<p>A challenge for many predictive models and fit metrics are that there
is no way to analytically decompose the fit statistic/metric given
correlations between the predictive factors that are naturally present
in the data or are introduced by the model. When there is no way to
analytically separate the fit statistic to ascribe it to predictive
factors, a methodological approach could be applied where values are
ascribed by including the factors in the model sequentially. As each
predictive factor is included, the change in the fit metric is ascribed
to that predictive factor.</p>
<p>One issue with the sequential approach is that the sequence chosen to
ascribe the fit statistic to predictive factors determines how much of
the fit statistic is ascribed to the factor. When the analyst has good
reason to choose a specific inclusion order, this approach produces a
useful result.</p>
<p>Using a single inclusion order can be problematic when there is
<em>not</em> a good reason to choose one specific inclusion order over
another. When the inclusion order is effectively arbitrary, changing the
order changes the values ascribed to the predictive factors in ways that
have implications on inferences from the model.</p>
<p>A solution to this problem is to consider all possible ways of
including the predictive factor. This method for resolving this issue is
the approach used by Shapley value decomposition from Cooperative Game
Theory (see <span class="citation">Grömping (2007)</span> for a
discussion) which seeks to find a solution to the problem of how to
subdivide payoffs to players in a cooperative game based on their
relative contribution when it is not possible to separate relative
contributions analytically.</p>
<p>DA uses the idea of comparing across inclusion orders as a
methodological, and almost experimental design-like, approach to
determining importance. DA also extends on the classic Shapley value
decomposition methodology by adding two, more difficult to achieve,
importance criteria. All three different importance criteria, known as
dominance designations, are discussed in greater detail in the context
of an example discussed below after a brief introduction to the
<code>domir</code> function.</p>
</div>
<div class="section level3">
<h3 id="da-implementation-with-domir">DA Implementation with <code>domir</code><a class="anchor" aria-label="anchor" href="#da-implementation-with-domir"></a>
</h3>
<p>The <code>domir</code> function is an API for applying DA to
predictive modeling functions in R. The sections below will use this
function to illustrate how DA is implemented and discuss conceptual
details of each computation.</p>
</div>
</div>
<div class="section level2">
<h2 id="concepts-in-application">Concepts in Application<a class="anchor" aria-label="anchor" href="#concepts-in-application"></a>
</h2>
<p>The purpose of the <strong>domir</strong> package is to apply DA to
predictive models. This section builds on the last by providing an
example predictive model with which to illustrate the computation and
interpretation of the dominance results produced by DA.</p>
<p>DA was developed originally using linear regression (<code>lm</code>)
with the explained variance <span class="math inline">\(R^2\)</span>
metric as a fit statistic <span class="citation">(Budescu 1993)</span>.
The examples below use this model and fit statistic as both are widely
used and understood in statistics and data science.</p>
<p>Consider this model using the <em>mtcars</em> data in the
<strong>datasets</strong> package.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">datasets</span><span class="op">)</span></span>
<span></span>
<span><span class="va">lm_cars</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">am</span> <span class="op">+</span> <span class="va">cyl</span> <span class="op">+</span> <span class="va">carb</span>, data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">lm_cars</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; lm(formula = mpg ~ am + cyl + carb, data = mtcars)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residuals:</span></span>
<span><span class="co">#&gt;     Min      1Q  Median      3Q     Max </span></span>
<span><span class="co">#&gt; -5.8853 -1.1581  0.2646  1.4885  5.4843 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt;             Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span><span class="co">#&gt; (Intercept)  32.1731     2.4914  12.914 2.59e-13 ***</span></span>
<span><span class="co">#&gt; am            4.2430     1.3094   3.240 0.003074 ** </span></span>
<span><span class="co">#&gt; cyl          -1.7175     0.4298  -3.996 0.000424 ***</span></span>
<span><span class="co">#&gt; carb         -1.1304     0.4058  -2.785 0.009481 ** </span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residual standard error: 2.755 on 28 degrees of freedom</span></span>
<span><span class="co">#&gt; Multiple R-squared:  0.8113, Adjusted R-squared:  0.7911 </span></span>
<span><span class="co">#&gt; F-statistic: 40.13 on 3 and 28 DF,  p-value: 2.855e-10</span></span></code></pre></div>
<p>The results show that all three IVs are statistically significant at
the traditional level (i.e., <span class="math inline">\(p &lt;
.05\)</span>) and that, in total, the predictors—<em>am, cyl</em>, and
<em>carb</em>—explain ~80% of the variance in <em>mpg</em>.</p>
<p>I intend to conduct a DA on this model using <code>domir</code> and
implement the DA as follows:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jluchman/domir" class="external-link">domir</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/domir.html">domir</a></span><span class="op">(</span></span>
<span>  <span class="va">mpg</span> <span class="op">~</span> <span class="va">am</span> <span class="op">+</span> <span class="va">cyl</span> <span class="op">+</span> <span class="va">carb</span>, </span>
<span>  <span class="kw">function</span><span class="op">(</span><span class="va">formula</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">lm_model</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">formula</span>, data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">lm_model</span><span class="op">)</span><span class="op">[[</span><span class="st">"r.squared"</span><span class="op">]</span><span class="op">]</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Overall Value:      0.8113023 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; General Dominance Values:</span></span>
<span><span class="co">#&gt;      General Dominance Standardized Ranks</span></span>
<span><span class="co">#&gt; am           0.2156848    0.2658501     2</span></span>
<span><span class="co">#&gt; cyl          0.4173094    0.5143698     1</span></span>
<span><span class="co">#&gt; carb         0.1783081    0.2197801     3</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Conditional Dominance Values:</span></span>
<span><span class="co">#&gt;      Include At: 1 Include At: 2 Include At: 3</span></span>
<span><span class="co">#&gt; am       0.3597989     0.2164938    0.07076149</span></span>
<span><span class="co">#&gt; cyl      0.7261800     0.4181185    0.10762967</span></span>
<span><span class="co">#&gt; carb     0.3035184     0.1791172    0.05228872</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Complete Dominance Proportions:</span></span>
<span><span class="co">#&gt;        &gt; am &gt; cyl &gt; carb</span></span>
<span><span class="co">#&gt; am &gt;     NA     0      1</span></span>
<span><span class="co">#&gt; cyl &gt;     1    NA      1</span></span>
<span><span class="co">#&gt; carb &gt;    0     0     NA</span></span></code></pre></div>
<p>The <code>domir</code> function above prints out results in four
sections:</p>
<ol style="list-style-type: decimal">
<li>fit statistic results</li>
<li>general dominance statistics</li>
<li>conditional dominance statistics</li>
<li>complete dominance proportions</li>
</ol>
<p>Below I “replay” and discuss each result in turn.</p>
<div class="section level3">
<h3 id="fit-statistic-results">Fit Statistic Results<a class="anchor" aria-label="anchor" href="#fit-statistic-results"></a>
</h3>
<pre><code>Overall Value:      0.8113023</code></pre>
<p>The first result <code>domin</code> prints is related to the overall
fit statistic value for the model. In game theory terms, this value is
the total payoff all players/IVs produced in the cooperative
game/model.</p>
<p>The value produced serves as the fit statistic “to be decomposed” by
the DA and is limiting value for how much each IV will be able to
explain. The DA will ascribe the three IVs in this model separate
components of this ~<span class="math inline">\(.8113\)</span> value
related to their contributions to predicting <em>mpg</em>.</p>
<p>Other fit statistic value adjustments are reported in this section as
well in particular those associated with the all subsets and constant
model adjustments (<em>to be discussed further below; sections under
development</em>) when used in the DA.</p>
</div>
<div class="section level3">
<h3 id="general-dominance-statistics">General Dominance Statistics<a class="anchor" aria-label="anchor" href="#general-dominance-statistics"></a>
</h3>
<pre><code>General Dominance Values:
     General Dominance Standardized Ranks
am           0.2156848    0.2658501     2
cyl          0.4173094    0.5143698     1
carb         0.1783081    0.2197801     3</code></pre>
<p>The second result printed reports the <em>general dominance
statistics</em> related to how the overall fit statistic’s value is
divided up among the IVs. These also represent the Shapley value
decompositions of the fit statistic showing how each player/IV is
ascribed a component of the payoff/fit statistic from the
game/model.</p>
<p>The <em>General Dominance</em> column of statistics can be
interpreted in terms of the fit metric it decomposed. For example,
<em>am</em> has a value of ~<span class="math inline">\(0.2157\)</span>
which means <em>am</em> is associated with an <span class="math inline">\(R^2\)</span> of about twenty-two percentage points
of <em>mpg</em>’s variance given the predictive model and other IVs.</p>
<p>The <em>Standardized</em> column of statistics expresses the general
dominance statistic value as a percentage of the overall fit statistic
value and thus sums to 100%. <em>am</em>’s contributions to the <span class="math inline">\(R^2\)</span>’s total value is ~27% (i.e., <span class="math inline">\(\frac{.2157}{.8113} = .2659\)</span>).</p>
<p>The final <em>Ranks</em> column is most relevant to the focal purpose
of determining the relative importance of the IVs in this model as it
provides a rank ordering of the IVs based on their general dominance
statistics. It is here that DA moves beyond Shapley value decomposition
in that DA, and this rank ordering based on general dominance
statistics, allows for applying labels to the relationships between IVs
in terms of their importance.</p>
<p><em>am</em> is ranked second because it has a smaller general
dominance statistic than the first ranked <em>cyl</em>. As such,
<em>am</em> “is generally dominated by” <em>cyl</em>. By contrast,
<em>am</em> is ranked higher than third ranked <em>carb</em> and thus
<em>am</em> “generally dominates” <em>carb</em>. These labels are known
as <em>general dominance designations</em>.</p>
<div class="section level4">
<h4 id="points-of-note-general-dominance">Points of Note: General Dominance<a class="anchor" aria-label="anchor" href="#points-of-note-general-dominance"></a>
</h4>
<p>The general dominance statistics always sum to the value of the
overall fit statistic and, because they represent parts of a whole, are
widely considered the easiest of the dominance statistics to interpret
(i.e., as compared to conditional and complete dominance discussed
next).</p>
<p>The general dominance statistics, however simple to interpret, are
the least stringent of the dominance statistics/designations (the
reasons why are discussed later). Thus, the requirements to assign the
“generally dominates” label to a relationship between two IVs are the
easiest to fulfill.</p>
</div>
</div>
<div class="section level3">
<h3 id="conditional-dominance-statistics">Conditional Dominance Statistics<a class="anchor" aria-label="anchor" href="#conditional-dominance-statistics"></a>
</h3>
<pre><code>Conditional Dominance Values:
     Include At: 1 Include At: 2 Include At: 3
am       0.3597989     0.2164938    0.07076149
cyl      0.7261800     0.4181185    0.10762967
carb     0.3035184     0.1791172    0.05228872</code></pre>
<p>The third section reported on by <code>domin</code> prints the
<em>conditional dominance statistics</em> associated with each IV. Each
IV has a separate conditional dominance statistic related to position at
which it is included in the sequence of IVs in the model.</p>
<p>The conditional dominance matrix can be used to designate importance
in a way that is more stringent/harder to achieve than the general
dominance statistics. To determine importance with the conditional
dominance matrix each IV is compared to each other in a ‘row-wise’
fashion. If the value of each entry for a row/IV is greater than the
value of another row/IV at the same position (i.e., comparing IVs at the
same inclusion position) than an IV is said to “conditionally dominate”
the other IV. The matrix above shows that <em>am</em> “is conditionally
dominated by” <em>cyl</em> as its conditional dominance statistics are
smaller than <em>cyl</em>’s at positions 1, 2, and 3. Conversely,
<em>am</em> “conditionally dominates” <em>carb</em> as its conditional
dominance statistics are greater than <em>carb</em>’s at positions 1, 2,
and 3.</p>
<div class="section level4">
<h4 id="points-of-note-conditional-dominance">Points of Note: Conditional Dominance<a class="anchor" aria-label="anchor" href="#points-of-note-conditional-dominance"></a>
</h4>
<p>Conditional dominance statistics provide more information about each
IV than general dominance statistics as they more clearly reveal the
effect that IV redundancy has on prediction for each IV. Conditional
dominance statistics show the average increase in predictive usefulness
associated with an IV when it is included at a specific position in the
sequence of IVs. As the position gets more later in the model, the
contribution any one IV can make tends to grow more limited. This
limiting effect with more IVs is reflected in the trajectory of
conditional dominance statistics.</p>
<p>The increase in complexity with conditional dominance over that of
general dominance also results in a more stringent set of comparisons.
Because the label “conditionally dominates” is only ascribed to a
relationship that shows more contribution to the fit metric at all
positions of the conditional dominance matrix, it is a more difficult
criterion to achieve and is therefore a stronger designation.</p>
<p>Note that conditional dominance implies general dominance–but the
reverse is not true. An IV can generally, but not conditionally,
dominate another IV.</p>
</div>
</div>
<div class="section level3">
<h3 id="complete-dominance-proportions">Complete Dominance Proportions<a class="anchor" aria-label="anchor" href="#complete-dominance-proportions"></a>
</h3>
<pre><code>Complete Dominance Proportions:
       &gt; am &gt; cyl &gt; carb
am &gt;     NA     0      1
cyl &gt;     1    NA      1
carb &gt;    0     0     NA</code></pre>
<p>The fourth section reported on by <code>domir</code> prints the
<em>complete dominance proportions</em> associated with each IV pair.
Each IV is compared to each other IV and has two entries in this matrix.
The IV noted in the row labels is the ‘dominating’ IV as is implied by
the greater than symbol (i.e., <span class="math inline">\(&gt;\)</span>) preferring it. The IV noted in the
column labels is the ‘dominated’ IV as is implied by the greater than
symbol not preferring it. The values reported are the proportion of
sub-models in which the IV in the row obtains a larger value than the IV
in the column.</p>
<p>The complete dominance designations are useful beyond the general and
conditional dominance results as they are the most stringent sets of
comparisons. Complete dominance reflects the relative performance of
each IV to another IV in all the sub-models where their relative
predictive performance can be compared. When a value of 1 is obtained,
the IV in the row is said to “completely dominate” the IV in the column.
Conversely, when a value of 0 is obtained, the IV in the row is said to
be “completely dominated by” the IV in the column.</p>
<div class="section level4">
<h4 id="points-of-note-complete-dominance">Points of Note: Complete Dominance<a class="anchor" aria-label="anchor" href="#points-of-note-complete-dominance"></a>
</h4>
<p>Complete dominance designations are the most stringent of the
designations as <em>all</em> comparable sub-models for an IV must be
larger than its comparison IV for the “conditionally dominates” label to
be ascribed to their relationship. The sorts of sub-models that qualify
as ‘comparable’ is discussed later.</p>
<p>Also note that complete dominance implies both conditional and
general dominance but, again, not the reverse. An IV can conditionally
or generally, but not completely, dominate another IV.</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="dominance-statistics-and-designations-key-computational-details">Dominance Statistics and Designations: Key Computational
Details<a class="anchor" aria-label="anchor" href="#dominance-statistics-and-designations-key-computational-details"></a>
</h2>
<p>The DA methodology currently implemented in <strong>domir</strong> is
a relatively assumption-free and model agnostic but computationally
expensive methodology that follows from the way Shapley value
decomposition was originally formulated.</p>
<p>The sections below begin by providing an analogy for how to think
about the computation of DA results, outline exactly how each dominance
statistic and designation is determined, as well as extend the example
above by applying each computation in the context of the example.</p>
<div class="section level3">
<h3 id="computational-implementation-all-possible-orders">Computational Implementation: All Possible Orders<a class="anchor" aria-label="anchor" href="#computational-implementation-all-possible-orders"></a>
</h3>
<p>DA requires evaluating the contribution IVs make to prediction given
all possible orders in which they are included in the prediction model.
As was noted above, this is an experimental design-like approach where
all possible combinations of the IVs included or excluded are estimated
as sub-models. When there are <span class="math inline">\(p\)</span> IVs
in the model there will be <span class="math inline">\(2^p\)</span>
sub-models estimated. The experimental design-like approach of the
method makes it widely applicable across predictive models and fit
statistic values but is computationally expensive as each additional IV
added to the model results in a geometric increase in the number of
required sub-models.</p>
</div>
<div class="section level3">
<h3 id="da-results-the-full-factorial-design">DA Results: The Full-Factorial Design<a class="anchor" aria-label="anchor" href="#da-results-the-full-factorial-design"></a>
</h3>
<p>The DA results related to the <code>lm</code> model with three IVs
discussed above is composed of 8 sub-models and their <span class="math inline">\(R^2\)</span> values. The <code>domir</code>
function, if supplied a predictive modeling function that can record
each sub-model’s results, can be adapted to capture each sub-model’s
<span class="math inline">\(R^2\)</span> value along with the IVs that
comprise it.</p>
<p>The code below constructs a wrapper function to export results from
each sub-model to an external data frame. The code to produce these
results is complex and each line is commented to note its purpose. This
wrapper function then replaces <code>lm</code> in the call to
<code>domir</code> so that, as the DA is executed, all the sub-models’
data are captured for the illustration to come.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lm_capture</span> <span class="op">&lt;-</span> </span>
<span>  <span class="kw">function</span><span class="op">(</span><span class="va">formula</span>, <span class="va">data</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span> <span class="co"># wrapper program that accepts formula, data, and ellipsis arguments</span></span>
<span>    <span class="va">count</span> <span class="op">&lt;&lt;-</span> <span class="va">count</span> <span class="op">+</span> <span class="fl">1</span> <span class="co"># increment counter in enclosing environment</span></span>
<span>    <span class="va">lm_obj</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">formula</span>, data <span class="op">=</span> <span class="va">data</span>, <span class="va">...</span><span class="op">)</span> <span class="co"># estimate 'lm' model and save object</span></span>
<span>    <span class="va">DA_results</span><span class="op">[</span><span class="va">count</span>, <span class="st">"formula"</span><span class="op">]</span> <span class="op">&lt;&lt;-</span> </span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/deparse.html" class="external-link">deparse</a></span><span class="op">(</span><span class="va">formula</span><span class="op">)</span> <span class="co"># record string version of formula passed in 'DA_results' in enclosing environment</span></span>
<span>    <span class="va">DA_results</span><span class="op">[</span><span class="va">count</span>, <span class="st">"R^2"</span><span class="op">]</span> <span class="op">&lt;&lt;-</span> </span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">lm_obj</span><span class="op">)</span><span class="op">[[</span><span class="st">"r.squared"</span><span class="op">]</span><span class="op">]</span> <span class="co"># record R^2 in 'DA_results' in enclosing environment</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">lm_obj</span><span class="op">)</span><span class="op">[[</span><span class="st">"r.squared"</span><span class="op">]</span><span class="op">]</span> <span class="co"># return R^2</span></span>
<span>  <span class="op">}</span></span>
<span></span>
<span><span class="va">count</span> <span class="op">&lt;-</span> <span class="fl">0</span> <span class="co"># initialize the count indicating the row in which the results will fill-in</span></span>
<span></span>
<span><span class="va">DA_results</span> <span class="op">&lt;-</span> <span class="co"># container data frame in which to record results</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>formula <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">""</span>, times <span class="op">=</span> <span class="fl">2</span><span class="op">^</span><span class="fl">3</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span>, </span>
<span>             `R^2` <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">NA</span>, times <span class="op">=</span> <span class="fl">2</span><span class="op">^</span><span class="fl">3</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span>, </span>
<span>             check.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">lm_da</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/domir.html">domir</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">am</span> <span class="op">+</span> <span class="va">cyl</span> <span class="op">+</span> <span class="va">carb</span>, <span class="co"># implement the DA with the wrapper</span></span>
<span>               <span class="va">lm_capture</span>, </span>
<span>               data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span></span>
<span></span>
<span><span class="va">DA_results</span></span>
<span><span class="co">#&gt;                 formula       R^2</span></span>
<span><span class="co">#&gt; 1 mpg ~ am + cyl + carb 0.8113023</span></span>
<span><span class="co">#&gt; 2              mpg ~ am 0.3597989</span></span>
<span><span class="co">#&gt; 3             mpg ~ cyl 0.7261800</span></span>
<span><span class="co">#&gt; 4        mpg ~ am + cyl 0.7590135</span></span>
<span><span class="co">#&gt; 5            mpg ~ carb 0.3035184</span></span>
<span><span class="co">#&gt; 6       mpg ~ am + carb 0.7036726</span></span>
<span><span class="co">#&gt; 7      mpg ~ cyl + carb 0.7405408</span></span></code></pre></div>
<p>The printed result from <em>DA_results</em> shows that
<code>domir</code> runs 7 sub-models; each a different combination of
the IVs. Note that, by default, the sub-model where all IVs are excluded
is assumed to result in a fit statistic value of 0 and is not estimated
directly (which can be changed with the <code>.adj</code> argument).</p>
<p>The <span class="math inline">\(R^2\)</span> values recorded in
<em>DA_results</em> are used to compute the dominance statistics and
designations reported on above.</p>
<div class="section level4">
<h4 id="complete-dominance-proportions-1">Complete Dominance Proportions<a class="anchor" aria-label="anchor" href="#complete-dominance-proportions-1"></a>
</h4>
<p>Complete dominance proprtions between two IVs are computed by:</p>
<p><span class="math display">\[C_{X_vX_z} =\,
\frac{\Sigma^{2^{p-2}}_{j=1}{ \{\begin{matrix} if\, F_{X_v\;
\cup\;S_j}\, &gt; F_{X_z\; \cup\;S_j}\, \,then\, 1\, \\ if\, F_{X_v\;
\cup\;S_j}\, \le F_{X_z\; \cup\;S_j}\,then\, \,0\end{matrix}
}}{2^{p-2}}\]</span></p>
<p>Where <span class="math inline">\(X_v\)</span> and <span class="math inline">\(X_z\)</span> are two IVs, <span class="math inline">\(S_j\)</span> is a distinct set of the other IVs in
the model not including <span class="math inline">\(X_v\)</span> and
<span class="math inline">\(X_z\)</span> which can include the null set
(<span class="math inline">\(\emptyset\)</span>) with no other IVs, and
<span class="math inline">\(F\)</span> is a model fit statistic. This
computation is then the proportion of all comparable sub-models where
<span class="math inline">\(X_v\)</span> is greater than <span class="math inline">\(X_z\)</span>.</p>
<p>The results from <em>DA_results</em> can then be used to compute the
complete dominance proportions. The comparison begins with the results
for <code>am</code> and <code>cyl</code>.</p>
<table class="table">
<caption>Complete Dominance Comparisons: <code>am</code> versus
<code>cyl</code>
</caption>
<thead><tr class="header">
<th align="left">formula</th>
<th align="right">R^2</th>
<th align="left">formula</th>
<th align="right">R^2</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">mpg ~ am</td>
<td align="right">0.360</td>
<td align="left">mpg ~ cyl</td>
<td align="right">0.726</td>
</tr>
<tr class="even">
<td align="left">mpg ~ am + carb</td>
<td align="right">0.704</td>
<td align="left">mpg ~ cyl + carb</td>
<td align="right">0.741</td>
</tr>
</tbody>
</table>
<p>The rows in the table above are aligned such that comparable models
are in the rows. As applied to this example, the <span class="math inline">\(S_j\)</span> sets are <span class="math inline">\(\emptyset\)</span> (i.e., the null set) with no
other IVs and the set also including <em>carb</em>.</p>
<p>The <span class="math inline">\(R^2\)</span> values across the
comparable models show that <em>cyl</em> has larger <span class="math inline">\(R^2\)</span> values than, and thus completely
dominates, <em>am</em>.</p>
<table class="table">
<caption>Complete Dominance Comparisons: <code>am</code> versus
<code>carb</code>
</caption>
<thead><tr class="header">
<th align="left">formula</th>
<th align="right">R^2</th>
<th align="left">formula</th>
<th align="right">R^2</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">mpg ~ am</td>
<td align="right">0.360</td>
<td align="left">mpg ~ carb</td>
<td align="right">0.304</td>
</tr>
<tr class="even">
<td align="left">mpg ~ am + cyl</td>
<td align="right">0.759</td>
<td align="left">mpg ~ cyl + carb</td>
<td align="right">0.741</td>
</tr>
</tbody>
</table>
<p>Here the <span class="math inline">\(S_j\)</span> sets are, again,
<span class="math inline">\(\emptyset\)</span> and the set also
including <em>cyl</em>.</p>
<p>The <span class="math inline">\(R^2\)</span> values across the
comparable models show that <em>am</em> has larger <span class="math inline">\(R^2\)</span> values than and completely dominates
<em>carb</em>.</p>
<table class="table">
<caption>Complete Dominance Comparisons: <code>cyl</code> versus
<code>carb</code>
</caption>
<thead><tr class="header">
<th align="left">formula</th>
<th align="right">R^2</th>
<th align="left">formula</th>
<th align="right">R^2</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">mpg ~ cyl</td>
<td align="right">0.726</td>
<td align="left">mpg ~ carb</td>
<td align="right">0.304</td>
</tr>
<tr class="even">
<td align="left">mpg ~ am + cyl</td>
<td align="right">0.759</td>
<td align="left">mpg ~ am + carb</td>
<td align="right">0.704</td>
</tr>
</tbody>
</table>
<p>Finally, the <span class="math inline">\(S_j\)</span> sets are the
<span class="math inline">\(\emptyset\)</span> and the set also
including <em>am</em>.</p>
<p>The <span class="math inline">\(R^2\)</span> values across the
comparable models show that <em>cyl</em> has larger <span class="math inline">\(R^2\)</span> values than and completely dominates
<em>carb</em>.</p>
<p>Each of these three sets of comparisons are represented in the
<em>Complete_Dominance</em> matrix as a series of proportions. Note that
the diagonal of the matrix is <code>NA</code> values as it is
conceptually useless to compare the IV to itself.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lm_da</span><span class="op">$</span><span class="va">Complete_Dominance</span></span>
<span><span class="co">#&gt;        &gt;_am &gt;_cyl &gt;_carb</span></span>
<span><span class="co">#&gt; am_&gt;     NA     0      1</span></span>
<span><span class="co">#&gt; cyl_&gt;     1    NA      1</span></span>
<span><span class="co">#&gt; carb_&gt;    0     0     NA</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="computing-conditional-dominance">Computing Conditional Dominance<a class="anchor" aria-label="anchor" href="#computing-conditional-dominance"></a>
</h4>
<p>Conditional dominance statistics are computed as:</p>
<p><span class="math display">\[C^i_{X_v} =
\Sigma^{\begin{bmatrix}p-1\\i-1\end{bmatrix}}_{i=1}{\frac{F_{X_v\;
\cup\; S_i}\, -
F_{S_i}}{\begin{bmatrix}p-1\\i-1\end{bmatrix}}}\]</span></p>
<p>Where <span class="math inline">\(S_i\)</span> is a subset of IVs not
including <span class="math inline">\(X_v\)</span> and <span class="math inline">\(\begin{bmatrix}p-1\\i-1\end{bmatrix}\)</span> is
the number of distinct combinations produced choosing the number of
elements in the bottom value (<span class="math inline">\(i-1\)</span>)
given the number of elements in the top value (<span class="math inline">\(p-1\)</span>; i.e., the value produced by
<code>choose(p-1, i-1)</code>).</p>
<p>In effect, the formula above amounts to an average of the differences
between each model containing <span class="math inline">\(X_v\)</span>
from the comparable model not containing it by the number of IVs in the
model total. These values then reflect the effect of including the IV at
a specific order in the model. As applied to the results from
<em>DA_results</em>, <em>am</em>’s conditional dominance statistics are
computed with the following differences:</p>
<table style="width:100%;" class="table">
<caption>Conditional Dominance Computations: <code>am</code> with One
IV/Alone</caption>
<colgroup>
<col width="21%">
<col width="16%">
<col width="26%">
<col width="20%">
<col width="15%">
</colgroup>
<thead><tr class="header">
<th align="left">formula minuend</th>
<th align="right">R^2 minuend</th>
<th align="left">formula subtrahend</th>
<th align="right">R^2 subtrahend</th>
<th align="right">difference</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">mpg ~ am</td>
<td align="right">0.36</td>
<td align="left">mpg ~ 1</td>
<td align="right">0</td>
<td align="right">0.36</td>
</tr></tbody>
</table>
<table style="width:100%;" class="table">
<caption>Conditional Dominance Computations: <code>am</code> with Two
IVs</caption>
<colgroup>
<col width="21%">
<col width="16%">
<col width="26%">
<col width="20%">
<col width="15%">
</colgroup>
<thead><tr class="header">
<th align="left">formula minuend</th>
<th align="right">R^2 minuend</th>
<th align="left">formula subtrahend</th>
<th align="right">R^2 subtrahend</th>
<th align="right">difference</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">mpg ~ am + cyl</td>
<td align="right">0.759</td>
<td align="left">mpg ~ cyl</td>
<td align="right">0.726</td>
<td align="right">0.033</td>
</tr>
<tr class="even">
<td align="left">mpg ~ am + carb</td>
<td align="right">0.704</td>
<td align="left">mpg ~ carb</td>
<td align="right">0.304</td>
<td align="right">0.400</td>
</tr>
</tbody>
</table>
<table class="table">
<caption>Conditional Dominance Computations: <code>am</code> with Three
IVs/Full Model</caption>
<colgroup>
<col width="27%">
<col width="15%">
<col width="24%">
<col width="18%">
<col width="13%">
</colgroup>
<thead><tr class="header">
<th align="left">formula minuend</th>
<th align="right">R^2 minuend</th>
<th align="left">formula subtrahend</th>
<th align="right">R^2 subtrahend</th>
<th align="right">difference</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">mpg ~ am + cyl + carb</td>
<td align="right">0.811</td>
<td align="left">mpg ~ cyl + carb</td>
<td align="right">0.741</td>
<td align="right">0.071</td>
</tr></tbody>
</table>
<p>The rows of each table represent a difference to be recorded for the
conditional dominance statistics computation. In the position one, two,
and three comparison tables, the model with <em>am</em> is presented
first (as the minuend) and the comparable model without <em>am</em> is
presented second (as the subtrahend)—for the first IV comparison table,
this model is the intercept only model that, as is noted above, is
assumed to have a value of 0. The difference is presented last.</p>
<p>By table, the differences are averaged resulting in the 0.36 value
when first, the
<code>r round(lm_da$Conditional_Dominance["am", "``include_at_``2"], digits = 3)</code>
when second, and
<code>r round(lm_da$Conditional_Dominance["am", "``include_at_``3"], digits = 3)</code>
when third.</p>
<p>Next the computations for <em>cyl</em> are reported.</p>
<table style="width:100%;" class="table">
<caption>Conditional Dominance Computations: <code>cyl</code> with One
IV/Alone</caption>
<colgroup>
<col width="21%">
<col width="16%">
<col width="26%">
<col width="20%">
<col width="15%">
</colgroup>
<thead><tr class="header">
<th align="left">formula minuend</th>
<th align="right">R^2 minuend</th>
<th align="left">formula subtrahend</th>
<th align="right">R^2 subtrahend</th>
<th align="right">difference</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">mpg ~ cyl</td>
<td align="right">0.726</td>
<td align="left">mpg ~ 1</td>
<td align="right">0</td>
<td align="right">0.726</td>
</tr></tbody>
</table>
<table class="table">
<caption>Conditional Dominance Computations: <code>cyl</code> with Two
IVs</caption>
<colgroup>
<col width="22%">
<col width="16%">
<col width="25%">
<col width="20%">
<col width="14%">
</colgroup>
<thead><tr class="header">
<th align="left">formula minuend</th>
<th align="right">R^2 minuend</th>
<th align="left">formula subtrahend</th>
<th align="right">R^2 subtrahend</th>
<th align="right">difference</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">mpg ~ am + cyl</td>
<td align="right">0.759</td>
<td align="left">mpg ~ am</td>
<td align="right">0.360</td>
<td align="right">0.399</td>
</tr>
<tr class="even">
<td align="left">mpg ~ cyl + carb</td>
<td align="right">0.741</td>
<td align="left">mpg ~ carb</td>
<td align="right">0.304</td>
<td align="right">0.437</td>
</tr>
</tbody>
</table>
<table class="table">
<caption>Conditional Dominance Computations: <code>cyl</code> with Three
IVs/Full Model</caption>
<colgroup>
<col width="27%">
<col width="15%">
<col width="24%">
<col width="18%">
<col width="13%">
</colgroup>
<thead><tr class="header">
<th align="left">formula minuend</th>
<th align="right">R^2 minuend</th>
<th align="left">formula subtrahend</th>
<th align="right">R^2 subtrahend</th>
<th align="right">difference</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">mpg ~ am + cyl + carb</td>
<td align="right">0.811</td>
<td align="left">mpg ~ am + carb</td>
<td align="right">0.704</td>
<td align="right">0.108</td>
</tr></tbody>
</table>
<p>Again, the differences are averaged resulting in the 0.726 value when
first, the 0.418 when second, and 0.108 when third.</p>
<p>Finally, the computations for <em>carb</em>.</p>
<table style="width:100%;" class="table">
<caption>Conditional Dominance Computations: <code>carb</code> with One
IV/Alone</caption>
<colgroup>
<col width="21%">
<col width="16%">
<col width="26%">
<col width="20%">
<col width="15%">
</colgroup>
<thead><tr class="header">
<th align="left">formula minuend</th>
<th align="right">R^2 minuend</th>
<th align="left">formula subtrahend</th>
<th align="right">R^2 subtrahend</th>
<th align="right">difference</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">mpg ~ carb</td>
<td align="right">0.304</td>
<td align="left">mpg ~ 1</td>
<td align="right">0</td>
<td align="right">0.304</td>
</tr></tbody>
</table>
<table class="table">
<caption>Conditional Dominance Computations: <code>carb</code> with Two
IVs</caption>
<colgroup>
<col width="22%">
<col width="16%">
<col width="25%">
<col width="20%">
<col width="14%">
</colgroup>
<thead><tr class="header">
<th align="left">formula minuend</th>
<th align="right">R^2 minuend</th>
<th align="left">formula subtrahend</th>
<th align="right">R^2 subtrahend</th>
<th align="right">difference</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">mpg ~ am + carb</td>
<td align="right">0.704</td>
<td align="left">mpg ~ am</td>
<td align="right">0.360</td>
<td align="right">0.344</td>
</tr>
<tr class="even">
<td align="left">mpg ~ cyl + carb</td>
<td align="right">0.741</td>
<td align="left">mpg ~ cyl</td>
<td align="right">0.726</td>
<td align="right">0.014</td>
</tr>
</tbody>
</table>
<table class="table">
<caption>Conditional Dominance Computations: <code>carb</code> with
Three IVs/Full Model</caption>
<colgroup>
<col width="27%">
<col width="15%">
<col width="24%">
<col width="18%">
<col width="13%">
</colgroup>
<thead><tr class="header">
<th align="left">formula minuend</th>
<th align="right">R^2 minuend</th>
<th align="left">formula subtrahend</th>
<th align="right">R^2 subtrahend</th>
<th align="right">difference</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">mpg ~ am + cyl + carb</td>
<td align="right">0.811</td>
<td align="left">mpg ~ am + cyl</td>
<td align="right">0.759</td>
<td align="right">0.052</td>
</tr></tbody>
</table>
<p>And again, the differences are averaged resulting in the 0.304 value
when first, the 0.179 when second, and 0.052 when third.</p>
<p>These nine values then populate the conditional dominance statistic
matrix.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lm_da</span><span class="op">$</span><span class="va">Conditional_Dominance</span></span>
<span><span class="co">#&gt;      include_at_1 include_at_2 include_at_3</span></span>
<span><span class="co">#&gt; am      0.3597989    0.2164938   0.07076149</span></span>
<span><span class="co">#&gt; cyl     0.7261800    0.4181185   0.10762967</span></span>
<span><span class="co">#&gt; carb    0.3035184    0.1791172   0.05228872</span></span></code></pre></div>
<p>The conditional dominance matrix’s values can then be compared by
creating a series of logical designations indicating whether each IV
conditionally dominates each other.</p>
<p>Below the comparisons begin with <em>am</em> and <em>cyl</em></p>
<table class="table">
<caption>Conditional Dominance Designation: <code>am</code> Compared to
<code>cyl</code>
</caption>
<thead><tr class="header">
<th align="left"></th>
<th align="right">am</th>
<th align="right">cyl</th>
<th align="left">comparison</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">include_at_1</td>
<td align="right">0.360</td>
<td align="right">0.726</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">include_at_2</td>
<td align="right">0.216</td>
<td align="right">0.418</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">include_at_3</td>
<td align="right">0.071</td>
<td align="right">0.108</td>
<td align="left">FALSE</td>
</tr>
</tbody>
</table>
<p>The table above is a transpose of the conditional dominance statistic
matrix with an additional <em>comparison</em> column indicating whether
the first IV/<em>am</em>’s conditional dominance statistic at that
inclusion position is greater than the second IV/<em>cyl</em>’s at that
same position.</p>
<p>Conditional dominance is determined by all values being
<code>TRUE</code> or <code>FALSE</code>; in this case, <em>cyl</em> is
seen to conditionally dominate <em>am</em> as all values are
<code>FALSE</code>.</p>
<p>Next is the comparison between <em>am</em> and <em>carb</em></p>
<table class="table">
<caption>Conditional Dominance Designation: <code>am</code> Compared to
<code>carb</code>
</caption>
<thead><tr class="header">
<th align="left"></th>
<th align="right">am</th>
<th align="right">carb</th>
<th align="left">comparison</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">include_at_1</td>
<td align="right">0.360</td>
<td align="right">0.304</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">include_at_2</td>
<td align="right">0.216</td>
<td align="right">0.179</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">include_at_3</td>
<td align="right">0.071</td>
<td align="right">0.052</td>
<td align="left">TRUE</td>
</tr>
</tbody>
</table>
<p>Here <em>am</em> conditionally dominates <em>carb</em> as all values
are <code>TRUE</code>.</p>
<p>The final comparison between <em>cyl</em> and <em>carb</em></p>
<table class="table">
<caption>Conditional Dominance Designation: <code>cyl</code> Compared to
<code>carb</code>
</caption>
<thead><tr class="header">
<th align="left"></th>
<th align="right">cyl</th>
<th align="right">carb</th>
<th align="left">comparison</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">include_at_1</td>
<td align="right">0.726</td>
<td align="right">0.304</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">include_at_2</td>
<td align="right">0.418</td>
<td align="right">0.179</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">include_at_3</td>
<td align="right">0.108</td>
<td align="right">0.052</td>
<td align="left">TRUE</td>
</tr>
</tbody>
</table>
<p><em>cyl</em> also conditionally dominates <em>carb</em> as all values
are <code>TRUE</code>.</p>
<p>Another way of looking at conditional dominance is by graphing the
trajectory of each IV across all positions in the conditional dominance
matrix. If an IV’s line crosses another IV’s line, then a conditional
dominance relationship between those two IVs cannot be determined. A
graphic depicting the trajectory of the three IVs in the focal model is
depicted below.</p>
<p><img src="domir_basics_files/figure-html/condit_gph-1.png" width="700"></p>
<p>The graph above confirms that all three IV’s lines never cross and
thus have a clear set of conditional dominance designations.</p>
<p>As was mentioned in the <strong>Concepts in Application</strong>
section, because we knew all three IVs have complete dominance
designations relative to one another, they necessarily also had
conditional dominance designations relative to one another.</p>
</div>
<div class="section level4">
<h4 id="computing-general-dominance">Computing General Dominance<a class="anchor" aria-label="anchor" href="#computing-general-dominance"></a>
</h4>
<p>General dominance is computed as:</p>
<p><span class="math display">\[C_{X_v} =
\Sigma^p_{i=1}{\frac{C^i_{X_v}}{p}}\]</span></p>
<p>Where, <span class="math inline">\(C^{i}_{X_x}\)</span> are the
conditional dominance statistics for <span class="math inline">\(X_v\)</span> with <span class="math inline">\(i\)</span> IVs. Hence, the general dominance
statistics are the arithmetic average of all the conditional dominance
statistics for an IV.</p>
<p>When applied to <em>am</em>’s results, the general dominance
statistic value is:</p>
<table class="table">
<caption>General Dominance Computations: <code>am</code>
</caption>
<thead><tr class="header">
<th align="right">include_at_1</th>
<th align="right">include_at_2</th>
<th align="right">include_at_3</th>
<th align="right">general dominance</th>
</tr></thead>
<tbody><tr class="odd">
<td align="right">0.36</td>
<td align="right">0.216</td>
<td align="right">0.071</td>
<td align="right">0.216</td>
</tr></tbody>
</table>
<p>Next to <em>cyl</em>.</p>
<table class="table">
<caption>General Dominance Computations: <code>cyl</code>
</caption>
<thead><tr class="header">
<th align="right">include_at_1</th>
<th align="right">include_at_2</th>
<th align="right">include_at_3</th>
<th align="right">general dominance</th>
</tr></thead>
<tbody><tr class="odd">
<td align="right">0.726</td>
<td align="right">0.418</td>
<td align="right">0.108</td>
<td align="right">0.417</td>
</tr></tbody>
</table>
<p>And lastly <em>carb</em>.</p>
<table class="table">
<caption>General Dominance Computations: <code>carb</code>
</caption>
<thead><tr class="header">
<th align="right">include_at_1</th>
<th align="right">include_at_2</th>
<th align="right">include_at_3</th>
<th align="right">general dominance</th>
</tr></thead>
<tbody><tr class="odd">
<td align="right">0.304</td>
<td align="right">0.179</td>
<td align="right">0.052</td>
<td align="right">0.178</td>
</tr></tbody>
</table>
<p>Taken as a set, these values represent the general dominance
statistic/Shapley value decomposition vector:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lm_da</span><span class="op">$</span><span class="va">General_Dominance</span></span>
<span><span class="co">#&gt;        am       cyl      carb </span></span>
<span><span class="co">#&gt; 0.2156848 0.4173094 0.1783081</span></span></code></pre></div>
<p>The general dominance statistic vector can also be used in a way
similar to that of the complete and conditional dominance designations
by ranking each value.</p>
<table class="table">
<caption>General Dominance Designations</caption>
<thead><tr class="header">
<th align="left">IV</th>
<th align="right">general dominance</th>
<th align="right">ranks</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">am</td>
<td align="right">0.216</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">cyl</td>
<td align="right">0.417</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">carb</td>
<td align="right">0.178</td>
<td align="right">3</td>
</tr>
</tbody>
</table>
<p>The rank ordering above shows that <em>am</em> is generally dominated
by <em>cyl</em>, <em>am</em> generally dominates <em>carb</em>, and
<em>cyl</em> also generally dominates <em>carb</em>.</p>
<p>Again because we knew all three IVs have complete and conditional
dominance designations relative to one another, they necessarily also
had general dominance designations relative to one another.</p>
<div class="section level5">
<h5 id="general-dominanceshapley-values-weighted-average-of-all-submodels">General Dominance/Shapley Values: Weighted Average of All
Submodels<a class="anchor" aria-label="anchor" href="#general-dominanceshapley-values-weighted-average-of-all-submodels"></a>
</h5>
<p>It is also worth pointing out a subtle feature of the general
dominance statistics that tends to be more explicit discussions about
the Shapley value decomposition. This feature is that each general
dominance statistic is a weighted average of <strong>all</strong> <span class="math inline">\(2^p\)</span> fit statistics.</p>
<p>To see how this is the case, first recall the computations related to
obtaining conditional dominance statistics for the <em>am</em> IV. If
you look at all the entries in the three tables, all 8 models are
included either as a minuend or a subtrahend. The general dominance
statistics are then just an average of these three conditional dominance
statistics. Hence, the general dominance statistics include the value
for <strong>every</strong> model.</p>
<p>The conditional dominance statistics for <em>cyl</em> and
<em>carb</em> re-arrange these same models but otherwise use the same
information to produce their general dominance statistics.</p>
</div>
</div>
</div>
<div class="section level3">
<h3 id="strongest-dominance-designations">Strongest Dominance Designations<a class="anchor" aria-label="anchor" href="#strongest-dominance-designations"></a>
</h3>
<p>Whereas all dominance designations have been made in the example
above, the strongest designation between two IVs is likely of primary
interest as the strongest designation, as is noted above, implies all
weaker designations.</p>
<p>To access the strongest dominance designations, the DA object can be
submitted to the <code>summary</code> function.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">lm_da</span><span class="op">)</span><span class="op">$</span><span class="va">Strongest_Dominance</span></span>
<span><span class="co">#&gt;                                                                            </span></span>
<span><span class="co">#&gt;  "am"                         "am"                   "cyl"                 </span></span>
<span><span class="co">#&gt;  "is completely dominated by" "completely dominates" "completely dominates"</span></span>
<span><span class="co">#&gt;  "cyl"                        "carb"                 "carb"</span></span></code></pre></div>
<p>The result the <code>summary</code> function produces in the
<em>Strongest_Dominance</em> element is consistent with expectation in
that all three IV interrelationships have complete dominance
designations between them.</p>
</div>
</div>
<div class="section level2">
<h2 id="parting-thoughts">Parting Thoughts<a class="anchor" aria-label="anchor" href="#parting-thoughts"></a>
</h2>
<p>“Relative importance” as a concept is used in many different ways in
statistics and data science. In the author’s view, a crucial, but rarely
acknowledged, difference between DA and many of the relative importance
statistics produced by methods other than DA, are that many other
methods are probably most useful for model selection and not for model
evaluation. In making a distinction between model selection and
importance, I follow the work of <span class="citation">Azen, Budescu,
and Reiser (2001)</span> who distinguish between the concept of IV
criticality and IV importance.</p>
<div class="section level3">
<h3 id="criticality-model-selection">Criticality: Model Selection<a class="anchor" aria-label="anchor" href="#criticality-model-selection"></a>
</h3>
<p>In many cases, methods that focus on relative importance are probably
best used for model selection. When applied to model selection, a method
would identify when an IV should be included in the model or not. The
process of determining whether or not an IV should be included in the
model is desribed by Azen et al. as reflecting <em>IV
Criticality</em>.</p>
<p>In the view of the author, methods such as posterior inclusion
probability, Akaike weights, and permutation importance are actually IV
criticality, as opposed to importance, measures. These methods are
criticality methods as they tend to be informative for identifying
whether an IV has trivial or non-trivial conribution to prediction but
is less informative for identifying the magnitude of their
contribution.</p>
</div>
<div class="section level3">
<h3 id="importance-model-evaluation">Importance: Model Evaluation<a class="anchor" aria-label="anchor" href="#importance-model-evaluation"></a>
</h3>
<p>Model evaluation differs from model selection in that it seeks not to
determine whether IVs should be in the model, but rather compares them
in terms of their impact in the model conditional on their being
included. Thus, importance methods assume that a model has passed
through a model selection phase and that all the predictors in the model
have non-trivial effects.</p>
<p>The DA method implemented by the <code>domir</code> function is an
importance method in this sense in that it assumes that the predictive
model used is “pre-selected” or has passed through model selection
procedures and the user is confident that the IVs model and are, in
fact, reasonable to include. The results from DA and similar methods
then provide more information about relative contribution to prediction
which assists in model evaluation.</p>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-azen2001criticality" class="csl-entry">
Azen, Razia, David V Budescu, and Benjamin Reiser. 2001.
<span>“Criticality of Predictors in Multiple Regression.”</span>
<em>British Journal of Mathematical and Statistical Psychology</em> 54
(2): 201–25. <a href="https://doi.org/10.1348/000711001159483" class="external-link">https://doi.org/10.1348/000711001159483</a>.
</div>
<div id="ref-budescu1993dominance" class="csl-entry">
Budescu, David V. 1993. <span>“Dominance Analysis: A New Approach to the
Problem of Relative Importance of Predictors in Multiple
Regression.”</span> <em>Psychological Bulletin</em> 114 (3): 542–51. <a href="https://doi.org/10.1037/0033-2909.114.3.542" class="external-link">https://doi.org/10.1037/0033-2909.114.3.542</a>.
</div>
<div id="ref-gromping2007estimators" class="csl-entry">
Grömping, Ulrike. 2007. <span>“Estimators of Relative Importance in
Linear Regression Based on Variance Decomposition.”</span> <em>The
American Statistician</em> 61 (2): 139–47. <a href="https://doi.org/10.1198/000313007X188252" class="external-link">https://doi.org/10.1198/000313007X188252</a>.
</div>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Joseph Luchman.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
